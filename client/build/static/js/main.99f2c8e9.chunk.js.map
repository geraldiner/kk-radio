{"version":3,"sources":["components/TopNav.js","components/constants/records.js","components/Slider.js","components/Loading.js","components/AudioControls.js","components/Backdrop.js","components/AudioPlayer.js","components/Radio.js","App.js","index.js"],"names":["TopNav","className","href","PLAYLISTS","title","color","songs","Slider","playlists","Object","keys","map","k","i","p","to","s","j","Loading","loading","AudioControls","isPlaying","onPlayPauseClick","onPrevClick","onNextClick","type","onClick","icon","faStepBackward","faPause","faPlay","faStepForward","Backdrop","activeColor","songIndex","useEffect","document","documentElement","style","setProperty","AudioPlayer","playlist","useState","currIndex","setCurrIndex","songProgress","setSongProgress","setIsPlaying","currSong","audioRef","useRef","Audio","music_url","intervalRef","isReady","duration","current","toNextSong","length","startTimer","clearInterval","setInterval","ended","currentTime","onScrubEnd","play","pause","src","image_url","alt","value","step","min","max","onChange","e","target","onMouseUp","onKeyUp","Radio","useParams","PlaylistQuery","gql","useQuery","variables","error","data","getPlaylist","message","App","path","exact","id","client","ApolloClient","uri","cache","InMemoryCache","ReactDOM","render","StrictMode","ApolloProvider","getElementById"],"mappings":"wOAeeA,EAbA,WACd,OACC,mCAEC,qBAAKC,UAAU,+CAAf,SACC,oBAAIA,UAAU,UAAd,SACC,mBAAGC,KAAK,IAAR,+BCRQC,EAAY,CACxB,KAAQ,CACPC,MAAO,gBACPC,MAAO,gBACPC,MAAO,CACN,gBACA,iBACA,eACA,eACA,cACA,aACA,aACA,WACA,aACA,aACA,eACA,cACA,kBACA,aACA,aACA,gBACA,aACA,kBACA,iBAGF,OAAU,CACTF,MAAO,uBACPC,MAAO,cACPC,MAAO,CACN,gBACA,aACA,eACA,cACA,eACA,aACA,gBACA,eACA,aACA,iBACA,gBACA,aACA,YACA,cACA,cACA,cACA,UACA,kBAGF,KAAQ,CACPF,MAAO,WACPC,MAAO,cACPC,MAAO,CACN,aACA,cACA,YACA,eACA,YACA,aACA,WACA,aACA,cACA,aACA,aACA,YACA,iBACA,cACA,aACA,cACA,aACA,mBACA,YACA,WACA,gBAGF,IAAO,CACNF,MAAO,eACPC,MAAO,cACPC,MAAO,CACN,eACA,UACA,eACA,cACA,eACA,YACA,gBACA,cACA,eACA,cACA,eACA,aACA,aACA,eACA,aACA,iBACA,gBAGF,QAAW,CACVF,MAAO,UACPC,MAAO,aACPC,MAAO,CACN,aACA,aACA,gBACA,aACA,YACA,YACA,cACA,aACA,aACA,YACA,iBACA,WACA,cACA,aACA,gBCvFYC,EA3BA,WACd,IAAMC,EAAYC,OAAOC,KAAKP,GAC9B,OACC,mCACC,qBAAKF,UAAU,wCAAf,SACEO,EAAUG,KAAI,SAACC,EAAGC,GAClB,IAAIC,EAAIX,EAAUS,GAClB,OACC,sBAAaX,UAAS,gBAAWa,EAAET,OAAnC,UACC,cAAC,IAAD,CAAMU,GAAE,mBAAcH,GAAtB,SACC,oBAAIX,UAAU,oBAAd,SAAmCa,EAAEV,UAErCU,EAAER,MAAMK,KAAI,SAACK,EAAGC,GAChB,OACC,qBAAoBhB,UAAU,sBAA9B,SACEe,GADF,YAAeC,SANRJ,W,wBCEDK,EAZC,SAAC,GAAiB,IAAfC,EAAc,EAAdA,QAClB,OACC,mCACEA,EACA,kCACC,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","file":"static/js/main.99f2c8e9.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst TopNav = () => {\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{/* Top Header Bar */}\r\n\t\t\t<div className=\"flex bg-yellow-400 py-5 px-8 justify-between\">\r\n\t\t\t\t<h2 className=\"text-lg\">\r\n\t\t\t\t\t<a href=\"/\">K.K. Radio</a>\r\n\t\t\t\t</h2>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default TopNav;\r\n","export const PLAYLISTS = {\r\n\t\"good\": {\r\n\t\ttitle: \"Feelin' Good!\",\r\n\t\tcolor: \"bg-yellow-400\",\r\n\t\tsongs: [\r\n\t\t\t\"Mountain Song\",\r\n\t\t\t\"Bubblegum K.K.\",\r\n\t\t\t\"K.K. Calypso\",\r\n\t\t\t\"K.K. Country\",\r\n\t\t\t\"K.K. Groove\",\r\n\t\t\t\"K.K. Salsa\",\r\n\t\t\t\"K.K. Samba\",\r\n\t\t\t\"K.K. Ska\",\r\n\t\t\t\"K.K. Dixie\",\r\n\t\t\t\"K.K. Disco\",\r\n\t\t\t\"Café K.K.\",\r\n\t\t\t\"K.K. Parade\",\r\n\t\t\t\"K.K. Rockabilly\",\r\n\t\t\t\"K.K. March\",\r\n\t\t\t\"K.K. Mambo\",\r\n\t\t\t\"K.K. Mariachi\",\r\n\t\t\t\"Neapolitan\",\r\n\t\t\t\"Spring Blossoms\",\r\n\t\t\t\"K.K. Ragtime\",\r\n\t\t],\r\n\t},\r\n\t\"grumpy\": {\r\n\t\ttitle: \"Grumpy McGrumpy Face\",\r\n\t\tcolor: \"bg-gray-700\",\r\n\t\tsongs: [\r\n\t\t\t\"K.K. Cruisin'\",\r\n\t\t\t\"Lucky K.K.\",\r\n\t\t\t\"Surfin' K.K.\",\r\n\t\t\t\"K.K. Safari\",\r\n\t\t\t\"K.K. Jongara\",\r\n\t\t\t\"K.K. Tango\",\r\n\t\t\t\"Imperial K.K.\",\r\n\t\t\t\"Rockin' K.K.\",\r\n\t\t\t\"K.K. House\",\r\n\t\t\t\"K.K. Adventure\",\r\n\t\t\t\"K.K. Flamenco\",\r\n\t\t\t\"K.K. Metal\",\r\n\t\t\t\"K.K. Rock\",\r\n\t\t\t\"K.K. Bazaar\",\r\n\t\t\t\"K.K. Steppe\",\r\n\t\t\t\"K.K. Casbah\",\r\n\t\t\t\"DJ K.K.\",\r\n\t\t\t\"Go K.K. Rider\",\r\n\t\t],\r\n\t},\r\n\t\"lazy\": {\r\n\t\ttitle: \"Lazy Bum\",\r\n\t\tcolor: \"bg-pink-700\",\r\n\t\tsongs: [\r\n\t\t\t\"Aloha K.K.\",\r\n\t\t\t\"K.K. Stroll\",\r\n\t\t\t\"Pondering\",\r\n\t\t\t\"Soulful K.K.\",\r\n\t\t\t\"K.K. Jazz\",\r\n\t\t\t\"K.K. Swing\",\r\n\t\t\t\"Mr. K.K.\",\r\n\t\t\t\"K.K. Synth\",\r\n\t\t\t\"K.K. Fusion\",\r\n\t\t\t\"K.K. Bossa\",\r\n\t\t\t\"K.K. Moody\",\r\n\t\t\t\"K.K. Aria\",\r\n\t\t\t\"K.K. Love Song\",\r\n\t\t\t\"K.K. Reggae\",\r\n\t\t\t\"I Love You\",\r\n\t\t\t\"K.K. Island\",\r\n\t\t\t\"K.K. Faire\",\r\n\t\t\t\"Marine Song 2001\",\r\n\t\t\t\"Wandering\",\r\n\t\t\t\"My Place\",\r\n\t\t\t\"Forest Life\",\r\n\t\t],\r\n\t},\r\n\t\"sad\": {\r\n\t\ttitle: \"#sadboihours\",\r\n\t\tcolor: \"bg-blue-800\",\r\n\t\tsongs: [\r\n\t\t\t\"Two Days Ago\",\r\n\t\t\t\"Only Me\",\r\n\t\t\t\"K.K. Western\",\r\n\t\t\t\"K.K. Lament\",\r\n\t\t\t\"K.K. Chorale\",\r\n\t\t\t\"King K.K.\",\r\n\t\t\t\"K.K. Étude\",\r\n\t\t\t\"K.K. Sonata\",\r\n\t\t\t\"K.K. Milonga\",\r\n\t\t\t\"K.K. Ballad\",\r\n\t\t\t\"K.K. Lullaby\",\r\n\t\t\t\"K.K. Waltz\",\r\n\t\t\t\"K.K. Dirge\",\r\n\t\t\t\"Comrade K.K.\",\r\n\t\t\t\"Steep Hill\",\r\n\t\t\t\"Stale Cupcakes\",\r\n\t\t\t\"K.K. Condor\",\r\n\t\t],\r\n\t},\r\n\t\"unknown\": {\r\n\t\ttitle: \"*shrug*\",\r\n\t\tcolor: \"bg-red-500\",\r\n\t\tsongs: [\r\n\t\t\t\"Hypno K.K.\",\r\n\t\t\t\"K.K. Rally\",\r\n\t\t\t\"K.K. Marathon\",\r\n\t\t\t\"Agent K.K.\",\r\n\t\t\t\"K.K. Soul\",\r\n\t\t\t\"K.K. Song\",\r\n\t\t\t\"The K. Funk\",\r\n\t\t\t\"K.K. Blues\",\r\n\t\t\t\"K.K. Oasis\",\r\n\t\t\t\"K.K. Folk\",\r\n\t\t\t\"K.K. Technopop\",\r\n\t\t\t\"K.K. D&B\",\r\n\t\t\t\"To the Edge\",\r\n\t\t\t\"K.K. Gumbo\",\r\n\t\t\t\"Space K.K.\",\r\n\t\t],\r\n\t},\r\n};\r\n\r\nexport const TITLE_TO_ID = {\r\n\t\"Agent K.K.\": 1,\r\n\t\"Aloha K.K.\": 2,\r\n\t\"Animal City\": 3,\r\n\t\"Bubblegum K.K.\": 4,\r\n\t\"Café K.K.\": 5,\r\n\t\"Comrade K.K.\": 6,\r\n\t\"DJ K.K.\": 7,\r\n\t\"Drivin'\": 8,\r\n\tFarewell: 9,\r\n\t\"Forest Life\": 10,\r\n\t\"Go K.K. Rider\": 11,\r\n\t\"Hypno K.K.\": 12,\r\n\t\"I Love You\": 13,\r\n\t\"Imperial K.K.\": 14,\r\n\t\"K.K. Adventure\": 15,\r\n\t\"K.K. Aria\": 16,\r\n\t\"K.K. Ballad\": 17,\r\n\t\"K.K. Bazaar\": 18,\r\n\t\"K.K. Birthday\": 19,\r\n\t\"K.K. Blues\": 20,\r\n\t\"K.K. Bossa\": 21,\r\n\t\"K.K. Calypso\": 22,\r\n\t\"K.K. Casbah\": 23,\r\n\t\"K.K. Chorale\": 24,\r\n\t\"K.K. Condor\": 25,\r\n\t\"K.K. Country\": 26,\r\n\t\"K.K. Cruisin'\": 27,\r\n\t\"K.K. D&B\": 28,\r\n\t\"K.K. Dirge\": 29,\r\n\t\"K.K. Disco\": 30,\r\n\t\"K.K. Dixie\": 31,\r\n\t\"K.K. Étude\": 32,\r\n\t\"K.K. Faire\": 33,\r\n\t\"K.K. Flamenco\": 34,\r\n\t\"K.K. Folk\": 35,\r\n\t\"K.K. Fusion\": 36,\r\n\t\"K.K. Groove\": 37,\r\n\t\"K.K. Gumbo\": 38,\r\n\t\"K.K. House\": 39,\r\n\t\"K.K. Island\": 40,\r\n\t\"K.K. Jazz\": 41,\r\n\t\"K.K. Jongara\": 42,\r\n\t\"K.K. Lament\": 43,\r\n\t\"K.K. Love Song\": 44,\r\n\t\"K.K. Lullaby\": 45,\r\n\t\"K.K. Mambo\": 46,\r\n\t\"K.K. Marathon\": 47,\r\n\t\"K.K. March\": 48,\r\n\t\"K.K. Mariachi\": 49,\r\n\t\"K.K. Metal\": 50,\r\n\t\"K.K. Milonga\": 51,\r\n\t\"K.K. Moody\": 52,\r\n\t\"K.K. Oasis\": 53,\r\n\t\"K.K. Parade\": 54,\r\n\t\"K.K. Ragtime\": 55,\r\n\t\"K.K. Rally\": 56,\r\n\t\"K.K. Reggae\": 57,\r\n\t\"K.K. Rock\": 58,\r\n\t\"K.K. Rockabilly\": 59,\r\n\t\"K.K. Safari\": 60,\r\n\t\"K.K. Salsa\": 61,\r\n\t\"K.K. Samba\": 62,\r\n\t\"K.K. Ska\": 63,\r\n\t\"K.K. Sonata\": 64,\r\n\t\"K.K. Song\": 65,\r\n\t\"K.K. Soul\": 66,\r\n\t\"K.K. Steppe\": 67,\r\n\t\"K.K. Stroll\": 68,\r\n\t\"K.K. Swing\": 69,\r\n\t\"K.K. Synth\": 70,\r\n\t\"K.K. Tango\": 71,\r\n\t\"K.K. Technopop\": 72,\r\n\t\"K.K. Waltz\": 73,\r\n\t\"K.K. Western\": 74,\r\n\t\"King K.K.\": 75,\r\n\t\"Lucky K.K.\": 76,\r\n\t\"Marine Song 2001\": 77,\r\n\t\"Mountain Song\": 78,\r\n\t\"Mr. K.K.\": 79,\r\n\t\"My Place\": 80,\r\n\tNeapolitan: 81,\r\n\t\"Only Me\": 82,\r\n\tPondering: 83,\r\n\t\"Rockin' K.K.\": 84,\r\n\t\"Soulful K.K.\": 85,\r\n\t\"Space K.K.\": 86,\r\n\t\"Spring Blossoms\": 87,\r\n\t\"Stale Cupcakes\": 88,\r\n\t\"Steep Hill\": 89,\r\n\t\"Surfin' K.K.\": 90,\r\n\t\"The K. Funk\": 91,\r\n\t\"To the Edge\": 92,\r\n\t\"Two Days Ago\": 93,\r\n\tWandering: 94,\r\n\t\"Welcome Horizons\": 95,\r\n};\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { PLAYLISTS } from \"./constants/records\";\r\n\r\nconst Slider = () => {\r\n\tconst playlists = Object.keys(PLAYLISTS);\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className=\"flex w-4/5 mx-auto my-16 bg-green-100\">\r\n\t\t\t\t{playlists.map((k, i) => {\r\n\t\t\t\t\tlet p = PLAYLISTS[k];\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<div key={i} className={`w-1/5 ${p.color}`}>\r\n\t\t\t\t\t\t\t<Link to={`/playing/${k}`}>\r\n\t\t\t\t\t\t\t\t<h3 className=\"font-bold text-xl\">{p.title}</h3>\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t{p.songs.map((s, j) => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<div key={`s-${j}`} className=\"hover:text-blue-600\">\r\n\t\t\t\t\t\t\t\t\t\t{s}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t);\r\n\t\t\t\t})}\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default Slider;\r\n","import React from \"react\";\r\n\r\nconst Loading = ({ loading }) => {\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{loading ? (\r\n\t\t\t\t<section>\r\n\t\t\t\t\t<span>Loading...</span>\r\n\t\t\t\t</section>\r\n\t\t\t) : null}\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default Loading;\r\n","import React from \"react\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faStepForward, faStepBackward, faPlay, faPause } from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nconst AudioControls = ({ isPlaying, onPlayPauseClick, onPrevClick, onNextClick }) => {\r\n\treturn (\r\n\t\t<div className=\"flex justify-between space-x-5\">\r\n\t\t\t<button className=\"text-3xl hover:text-gray-500\" type=\"button\" aria-label=\"Previous\" onClick={onPrevClick}>\r\n\t\t\t\t<FontAwesomeIcon icon={faStepBackward} />\r\n\t\t\t</button>\r\n\t\t\t{isPlaying ? (\r\n\t\t\t\t<button className=\"text-3xl hover:text-gray-500\" type=\"button\" aria-label=\"Pause\" onClick={() => onPlayPauseClick(false)}>\r\n\t\t\t\t\t<FontAwesomeIcon icon={faPause} />\r\n\t\t\t\t</button>\r\n\t\t\t) : (\r\n\t\t\t\t<button className=\"text-3xl hover:text-gray-500\" type=\"button\" aria-label=\"Play\" onClick={() => onPlayPauseClick(true)}>\r\n\t\t\t\t\t<FontAwesomeIcon icon={faPlay} />\r\n\t\t\t\t</button>\r\n\t\t\t)}\r\n\t\t\t<button className=\"text-3xl hover:text-gray-500\" type=\"button\" aria-label=\"Next\" onClick={onNextClick}>\r\n\t\t\t\t<FontAwesomeIcon icon={faStepForward} />\r\n\t\t\t</button>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default AudioControls;\r\n","import React, { useEffect } from \"react\";\r\n\r\nconst Backdrop = ({ activeColor, songIndex, isPlaying }) => {\r\n\tuseEffect(() => {\r\n\t\tdocument.documentElement.style.setProperty(\"--active-color\", activeColor);\r\n\t}, [songIndex]);\r\n\treturn <div className={`color-backdrop ${isPlaying ? \"playing\" : \"idle\"}`}></div>;\r\n};\r\n\r\nexport default Backdrop;\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\nimport { PLAYLISTS } from \"./constants/records\";\r\nimport AudioControls from \"./AudioControls\";\r\nimport Backdrop from \"./Backdrop\";\r\n\r\nconst AudioPlayer = ({ playlist, songs }) => {\r\n\tconst [currIndex, setCurrIndex] = useState(0);\r\n\tconst [songProgress, setSongProgress] = useState(0);\r\n\tconst [isPlaying, setIsPlaying] = useState(false);\r\n\r\n\tlet currSong = songs[currIndex];\r\n\r\n\tconst audioRef = useRef(new Audio(currSong.music_url));\r\n\tconst intervalRef = useRef();\r\n\tconst isReady = useRef(false);\r\n\r\n\tconst { duration } = audioRef.current;\r\n\r\n\tconst currentPercentage = duration ? `${(songProgress / duration) * 100}%` : \"0%\";\r\n\r\n\tconst toPrevSong = () => {\r\n\t\tif (currIndex - 1 < 0) {\r\n\t\t\tsetCurrIndex(songs.length - 1);\r\n\t\t} else {\r\n\t\t\tsetCurrIndex(currIndex - 1);\r\n\t\t}\r\n\t};\r\n\r\n\tconst toNextSong = () => {\r\n\t\tif (currIndex < songs.length - 1) {\r\n\t\t\tsetCurrIndex(currIndex + 1);\r\n\t\t} else {\r\n\t\t\tsetCurrIndex(0);\r\n\t\t}\r\n\t};\r\n\r\n\tconst startTimer = () => {\r\n\t\tclearInterval(intervalRef.current);\r\n\t\tintervalRef.current = setInterval(() => {\r\n\t\t\tif (audioRef.current.ended) {\r\n\t\t\t\ttoNextSong();\r\n\t\t\t} else {\r\n\t\t\t\tsetSongProgress(audioRef.current.currentTime);\r\n\t\t\t}\r\n\t\t}, [1000]);\r\n\t};\r\n\r\n\tconst onScrub = value => {\r\n\t\tclearInterval(intervalRef.current);\r\n\t\taudioRef.current.currentTime = value;\r\n\t\tsetSongProgress(audioRef.current.currentTime);\r\n\t};\r\n\r\n\tconst onScrubEnd = () => {\r\n\t\tif (!isPlaying) {\r\n\t\t\tsetIsPlaying(true);\r\n\t\t}\r\n\t\tstartTimer();\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tif (isPlaying) {\r\n\t\t\taudioRef.current.play();\r\n\t\t\tstartTimer();\r\n\t\t} else {\r\n\t\t\taudioRef.current.pause();\r\n\t\t}\r\n\t}, [isPlaying]);\r\n\r\n\tuseEffect(() => {\r\n\t\tsetIsPlaying(false);\r\n\t\taudioRef.current.pause();\r\n\r\n\t\taudioRef.current = new Audio(currSong.music_url);\r\n\t\tsetSongProgress(audioRef.current.currentTime);\r\n\r\n\t\tif (isReady.current) {\r\n\t\t\taudioRef.current.play();\r\n\t\t\tsetIsPlaying(true);\r\n\t\t\tstartTimer();\r\n\t\t} else {\r\n\t\t\tisReady.current = true;\r\n\t\t}\r\n\t}, [currIndex]);\r\n\r\n\tuseEffect(() => {\r\n\t\treturn () => {\r\n\t\t\taudioRef.current.pause();\r\n\t\t\tclearInterval(intervalRef.current);\r\n\t\t};\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className=\"flex w-4/12 mx-auto my-16 bg-white rounded-md border-2 border-black p-4\">\r\n\t\t\t\t<div className=\"w-1/3\">\r\n\t\t\t\t\t<img className=\"rounded-md\" src={currSong.image_url} alt={`Song artwork for ${currSong.title}`} />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"flex flex-col w-2/3 items-center\">\r\n\t\t\t\t\t<h3 className=\"text-xl font-bold\">{currSong.title}</h3>\r\n\t\t\t\t\t<Backdrop activeColor={PLAYLISTS[playlist].color} songIndex={currIndex} isPlaying={isPlaying} />\r\n\t\t\t\t\t<AudioControls isPlaying={isPlaying} onPlayPauseClick={setIsPlaying} onPrevClick={toPrevSong} onNextClick={toNextSong} />\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"range\"\r\n\t\t\t\t\t\tvalue={songProgress}\r\n\t\t\t\t\t\tstep=\"1\"\r\n\t\t\t\t\t\tmin=\"0\"\r\n\t\t\t\t\t\tmax={duration ? duration : `${duration}`}\r\n\t\t\t\t\t\tonChange={e => onScrub(e.target.value)}\r\n\t\t\t\t\t\tonMouseUp={onScrubEnd}\r\n\t\t\t\t\t\tonKeyUp={onScrubEnd}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default AudioPlayer;\r\n","import React from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { gql, useQuery } from \"@apollo/client\";\r\nimport Loading from \"./Loading\";\r\nimport AudioPlayer from \"./AudioPlayer\";\r\nimport { PLAYLISTS } from \"./constants/records\";\r\n\r\nconst Radio = () => {\r\n\tconst { title } = useParams();\r\n\r\n\tconst PlaylistQuery = gql`\r\n\t\tquery getPlaylist($title: String!) {\r\n\t\t\tgetPlaylist(title: $title) {\r\n\t\t\t\ttitle\r\n\t\t\t\tmusic_url\r\n\t\t\t\timage_url\r\n\t\t\t}\r\n\t\t}\r\n\t`;\r\n\r\n\tconst { loading, error, data } = useQuery(PlaylistQuery, { variables: { title } });\r\n\tconst songs = data?.getPlaylist;\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Loading className=\"w-full p-3 rounded-t-md bg-white\" loading={loading} />\r\n\t\t\t{error && `Error! ${error.message}`}\r\n\t\t\t{songs && <AudioPlayer playlist={title} songs={songs} />}\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default Radio;\r\n","import React from \"react\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport TopNav from \"./components/TopNav\";\nimport Slider from \"./components/Slider\";\nimport Radio from \"./components/Radio\";\n\nfunction App() {\n\treturn (\n\t\t<>\n\t\t\t<TopNav />\n\t\t\t<Router>\n\t\t\t\t<Switch>\n\t\t\t\t\t<Route path=\"/\" exact>\n\t\t\t\t\t\t{/* Hero Text */}\n\t\t\t\t\t\t<div id=\"heroArea\" className=\"mt-10 w-1/2 mx-auto\">\n\t\t\t\t\t\t\t<h3 className=\"text-2xl text-center\">Tell me how you're feeling and I'll groove on it.</h3>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{/* Carousel */}\n\t\t\t\t\t\t<Slider />\n\t\t\t\t\t</Route>\n\t\t\t\t\t<Route path=\"/playing/:title\">\n\t\t\t\t\t\t<Radio />\n\t\t\t\t\t</Route>\n\t\t\t\t</Switch>\n\t\t\t</Router>\n\t\t</>\n\t);\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { ApolloProvider, ApolloClient, InMemoryCache } from \"@apollo/client\";\n\nimport App from \"./App\";\nimport \"./assets/css/tailwind.css\";\nimport \"./assets/css/styles.css\";\n\nconst url = process.env.NODE_ENV !== \"production\" ? \"http://localhost:4000\" : \"kk-radio.herokuapp.com\";\n\nconst client = new ApolloClient({\n\turi: url,\n\tcache: new InMemoryCache(),\n});\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<ApolloProvider client={client}>\n\t\t\t<App />\n\t\t</ApolloProvider>\n\t</React.StrictMode>,\n\tdocument.getElementById(\"root\"),\n);\n"],"sourceRoot":""}