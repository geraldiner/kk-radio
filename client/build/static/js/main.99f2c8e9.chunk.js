(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{78:function(e,t,n){},79:function(e,t,n){},80:function(e,t,n){"use strict";n.r(t);var c,a=n(2),r=n.n(a),l=n(57),o=n.n(l),i=n(90),s=n(91),K=n(89),u=n(34),j=n(12),b=n(3),d=function(){return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("div",{className:"flex bg-yellow-400 py-5 px-8 justify-between",children:Object(b.jsx)("h2",{className:"text-lg",children:Object(b.jsx)("a",{href:"/",children:"K.K. Radio"})})})})},x={good:{title:"Feelin' Good!",color:"bg-yellow-400",songs:["Mountain Song","Bubblegum K.K.","K.K. Calypso","K.K. Country","K.K. Groove","K.K. Salsa","K.K. Samba","K.K. Ska","K.K. Dixie","K.K. Disco","Caf\xe9 K.K.","K.K. Parade","K.K. Rockabilly","K.K. March","K.K. Mambo","K.K. Mariachi","Neapolitan","Spring Blossoms","K.K. Ragtime"]},grumpy:{title:"Grumpy McGrumpy Face",color:"bg-gray-700",songs:["K.K. Cruisin'","Lucky K.K.","Surfin' K.K.","K.K. Safari","K.K. Jongara","K.K. Tango","Imperial K.K.","Rockin' K.K.","K.K. House","K.K. Adventure","K.K. Flamenco","K.K. Metal","K.K. Rock","K.K. Bazaar","K.K. Steppe","K.K. Casbah","DJ K.K.","Go K.K. Rider"]},lazy:{title:"Lazy Bum",color:"bg-pink-700",songs:["Aloha K.K.","K.K. Stroll","Pondering","Soulful K.K.","K.K. Jazz","K.K. Swing","Mr. K.K.","K.K. Synth","K.K. Fusion","K.K. Bossa","K.K. Moody","K.K. Aria","K.K. Love Song","K.K. Reggae","I Love You","K.K. Island","K.K. Faire","Marine Song 2001","Wandering","My Place","Forest Life"]},sad:{title:"#sadboihours",color:"bg-blue-800",songs:["Two Days Ago","Only Me","K.K. Western","K.K. Lament","K.K. Chorale","King K.K.","K.K. \xc9tude","K.K. Sonata","K.K. Milonga","K.K. Ballad","K.K. Lullaby","K.K. Waltz","K.K. Dirge","Comrade K.K.","Steep Hill","Stale Cupcakes","K.K. Condor"]},unknown:{title:"*shrug*",color:"bg-red-500",songs:["Hypno K.K.","K.K. Rally","K.K. Marathon","Agent K.K.","K.K. Soul","K.K. Song","The K. Funk","K.K. Blues","K.K. Oasis","K.K. Folk","K.K. Technopop","K.K. D&B","To the Edge","K.K. Gumbo","Space K.K."]}},g=function(){var e=Object.keys(x);return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("div",{className:"flex w-4/5 mx-auto my-16 bg-green-100",children:e.map((function(e,t){var n=x[e];return Object(b.jsxs)("div",{className:"w-1/5 ".concat(n.color),children:[Object(b.jsx)(u.b,{to:"/playing/".concat(e),children:Object(b.jsx)("h3",{className:"font-bold text-xl",children:n.title})}),n.songs.map((function(e,t){return Object(b.jsx)("div",{className:"hover:text-blue-600",children:e},"s-".concat(t))}))]},t)}))})})},m=n(59),h=n(92),O=n(93),y=function(e){var t=e.loading;return Object(b.jsx)(b.Fragment,{children:t?Object(b.jsx)("section",{children:Object(b.jsx)("span",{children:"Loading..."})}):null})},f=n(43),p=n(36),v=n(38),k=function(e){var t=e.isPlaying,n=e.onPlayPauseClick,c=e.onPrevClick,a=e.onNextClick;return Object(b.jsxs)("div",{className:"flex justify-between space-x-5",children:[Object(b.jsx)("button",{className:"text-3xl hover:text-gray-500",type:"button","aria-label":"Previous",onClick:c,children:Object(b.jsx)(p.a,{icon:v.c})}),t?Object(b.jsx)("button",{className:"text-3xl hover:text-gray-500",type:"button","aria-label":"Pause",onClick:function(){return n(!1)},children:Object(b.jsx)(p.a,{icon:v.a})}):Object(b.jsx)("button",{className:"text-3xl hover:text-gray-500",type:"button","aria-label":"Play",onClick:function(){return n(!0)},children:Object(b.jsx)(p.a,{icon:v.b})}),Object(b.jsx)("button",{className:"text-3xl hover:text-gray-500",type:"button","aria-label":"Next",onClick:a,children:Object(b.jsx)(p.a,{icon:v.d})})]})},S=function(e){var t=e.activeColor,n=e.songIndex,c=e.isPlaying;return Object(a.useEffect)((function(){document.documentElement.style.setProperty("--active-color",t)}),[n]),Object(b.jsx)("div",{className:"color-backdrop ".concat(c?"playing":"idle")})},w=function(e){var t=e.playlist,n=e.songs,c=Object(a.useState)(0),r=Object(f.a)(c,2),l=r[0],o=r[1],i=Object(a.useState)(0),s=Object(f.a)(i,2),K=s[0],u=s[1],j=Object(a.useState)(!1),d=Object(f.a)(j,2),g=d[0],m=d[1],h=n[l],O=Object(a.useRef)(new Audio(h.music_url)),y=Object(a.useRef)(),p=Object(a.useRef)(!1),v=O.current.duration,w=(v&&"".concat(K/v*100,"%"),function(){l<n.length-1?o(l+1):o(0)}),N=function(){clearInterval(y.current),y.current=setInterval((function(){O.current.ended?w():u(O.current.currentTime)}),[1e3])},C=function(){g||m(!0),N()};return Object(a.useEffect)((function(){g?(O.current.play(),N()):O.current.pause()}),[g]),Object(a.useEffect)((function(){m(!1),O.current.pause(),O.current=new Audio(h.music_url),u(O.current.currentTime),p.current?(O.current.play(),m(!0),N()):p.current=!0}),[l]),Object(a.useEffect)((function(){return function(){O.current.pause(),clearInterval(y.current)}}),[]),Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("div",{className:"flex w-4/12 mx-auto my-16 bg-white rounded-md border-2 border-black p-4",children:[Object(b.jsx)("div",{className:"w-1/3",children:Object(b.jsx)("img",{className:"rounded-md",src:h.image_url,alt:"Song artwork for ".concat(h.title)})}),Object(b.jsxs)("div",{className:"flex flex-col w-2/3 items-center",children:[Object(b.jsx)("h3",{className:"text-xl font-bold",children:h.title}),Object(b.jsx)(S,{activeColor:x[t].color,songIndex:l,isPlaying:g}),Object(b.jsx)(k,{isPlaying:g,onPlayPauseClick:m,onPrevClick:function(){o(l-1<0?n.length-1:l-1)},onNextClick:w}),Object(b.jsx)("input",{type:"range",value:K,step:"1",min:"0",max:v||"".concat(v),onChange:function(e){return t=e.target.value,clearInterval(y.current),O.current.currentTime=t,void u(O.current.currentTime);var t},onMouseUp:C,onKeyUp:C})]})]})})},N=function(){var e=Object(j.f)().title,t=Object(h.a)(c||(c=Object(m.a)(["\n\t\tquery getPlaylist($title: String!) {\n\t\t\tgetPlaylist(title: $title) {\n\t\t\t\ttitle\n\t\t\t\tmusic_url\n\t\t\t\timage_url\n\t\t\t}\n\t\t}\n\t"]))),n=Object(O.a)(t,{variables:{title:e}}),a=n.loading,r=n.error,l=n.data,o=null===l||void 0===l?void 0:l.getPlaylist;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(y,{className:"w-full p-3 rounded-t-md bg-white",loading:a}),r&&"Error! ".concat(r.message),o&&Object(b.jsx)(w,{playlist:e,songs:o})]})};var C=function(){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(d,{}),Object(b.jsx)(u.a,{children:Object(b.jsxs)(j.c,{children:[Object(b.jsxs)(j.a,{path:"/",exact:!0,children:[Object(b.jsx)("div",{id:"heroArea",className:"mt-10 w-1/2 mx-auto",children:Object(b.jsx)("h3",{className:"text-2xl text-center",children:"Tell me how you're feeling and I'll groove on it."})}),Object(b.jsx)(g,{})]}),Object(b.jsx)(j.a,{path:"/playing/:title",children:Object(b.jsx)(N,{})})]})})]})},P=(n(78),n(79),new i.a({uri:"kk-radio.herokuapp.com",cache:new s.a}));o.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(K.a,{client:P,children:Object(b.jsx)(C,{})})}),document.getElementById("root"))}},[[80,1,2]]]);
//# sourceMappingURL=main.99f2c8e9.chunk.js.map